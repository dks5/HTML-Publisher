<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Полная интерактивная инструкция по Git и GitHub (v12)</title>
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;700&family=Roboto+Slab:wght@400;700&family=Inter:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --main-blue: #2c72c7;
            --light-blue: #e6f0fb;
            --warn-yellow-bg: #fffbdd;
            --warn-yellow-border: #ffca28;
            --success-green-bg: #d4edda;
            --success-green-border: #28a745;
            --error-red-bg: #f8d7da;
            --error-red-border: #dc3545;
            --bg-color: #f7f9fc;
            --text-color: #333333;
            --code-bg: #2d2d2d;
            --code-text-color: #f8f8f2;
            --border-radius: 8px;
            --page-width: 900px;
            --header-color: #1e5a8c;
            --placeholder-bg: #fffbdd;
            --light-lilac: #e6e6fa; /* Светло-сиреневый цвет */
        }

        body {
            font-family: "Segoe UI", -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.7;
            padding: 20px;
            margin: 0;
        }

        .container {
            max-width: var(--page-width);
            margin: auto;
            background-color: #fff;
            padding: 20px 40px;
            border-radius: var(--border-radius);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }

        h1, h2, h3 {
            color: var(--header-color);
            margin-top: 0;
            border-bottom: 1px solid #e5e5e5;
            padding-bottom: 10px;
        }

        h1 {
            text-align: center;
            font-size: 2.2em;
            border-bottom: 2px solid var(--main-blue);
            margin-bottom: 30px;
            padding-bottom: 10px; /* Сохраняем отступ для линии */
        }
        /* Стиль для ссылки внутри h1 */
        h1 a {
            color: var(--header-color); /* Цвет текста ссылки как у заголовков */
            text-decoration: none; /* Убираем подчеркивание по умолчанию */
            display: inline-block; /* Чтобы transform работал корректно */
            transition: transform 0.2s ease-in-out, text-decoration 0.2s ease-in-out; /* Плавный переход */
        }
        h1 a:hover {
            text-decoration: underline; /* Добавляем подчеркивание при наведении */
            transform: scale(1.02); /* Слегка увеличиваем при наведении */
        }
        .link-icon {
            margin-left: 8px; /* Отступ от текста */
            font-size: 0.8em; /* Меньший размер для иконки */
            vertical-align: middle; /* Выравнивание по центру текста */
            color: var(--main-blue); /* Цвет иконки как у основной темы */
        }

        /* Стиль для пояснения */
        .explanation-text {
            line-height: 1.2; /* Уменьшаем межстрочное расстояние */
            font-size: 0.9em; /* Уменьшаем размер шрифта */
            color: #6B7280; /* Чуть более темный серый для лучшего контраста */
            font-family: 'Inter', sans-serif; /* Новый шрифт для более тонкого и бледного стиля */
            font-weight: 300; /* Делаем шрифт более тонким */
        }
        .inline-copy-btn {
            display: inline-flex; /* Используем flexbox для выравнивания содержимого */
            align-items: center; /* Выравниваем элементы по центру вертикали */
            background-color: var(--main-blue);
            color: white;
            padding: 3px 8px; /* Увеличиваем padding для лучшего внешнего вида */
            border: none; /* Убираем границу */
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9em;
            margin-left: 5px;
            transition: background-color 0.2s ease;
            font-family: "Segoe UI", -apple-system, BlinkMacSystemFont, sans-serif;
            vertical-align: middle; /* Выравниваем кнопку по середине текста */
        }
        .inline-copy-btn:hover {
            background-color: #1e5a8c;
        }
        .inline-copy-btn.copied {
            background-color: var(--success-green-border);
        }
        .inline-copy-icon {
            width: 16px; /* Размер иконки */
            height: 16px;
            fill: white; /* Цвет иконки */
            /* margin-right: 5px; */ /* Убираем отступ, так как текста нет */
        }


        h2 { font-size: 1.8em; margin-top: 20px; } /* Отступ уменьшен в два раза */
        h3 { font-size: 1.4em; margin-top: 25px; border-bottom-style: dashed; }
        h4 { margin-top: 0; color: var(--main-blue); border-bottom: 1px solid #ddd; padding-bottom: 10px; }

        details {
            border: 1px solid #e0e0e0;
            border-radius: var(--border-radius);
            margin-bottom: 15px;
            background-color: #fff;
            overflow: visible; /* Изменено для видимости всплывающих подсказок */
        }
        details summary {
            cursor: pointer;
            padding: 12px 18px;
            font-weight: bold;
            color: var(--main-blue);
            display: flex;
            align-items: center;
            list-style: none;
            background-color: #fdfdfd;
        }
        details summary::-webkit-details-marker { display: none; }
        details summary::before {
            content: '▶';
            color: var(--main-blue);
            margin-right: 12px;
            font-size: 0.9em;
            transition: transform 0.2s ease-in-out;
        }
        details[open]>summary { border-bottom: 1px solid #e0e0e0; }
        details[open]>summary::before { transform: rotate(90deg); }
        details summary>* { margin: 0; }
        .details-content { padding: 10px 20px 20px 20px; }

        .code-block {
            background-color: var(--code-bg);
            color: var(--code-text-color);
            padding: 15px 20px;
            border-radius: var(--border-radius);
            position: relative;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
            white-space: pre-wrap;
            overflow-wrap: break-word;
            padding-right: 50px; /* Уменьшен отступ для кнопки копирования */
        }
        :not(pre)>code {
            background-color: #eef;
            color: #3f3f9e;
            padding: 3px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        .copy-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 5px; /* Уменьшен padding для минимизации размера */
            /* Удалена font-size, так как используется SVG */
            background: var(--main-blue); /* Фон кнопки синий для контраста */
            color: white; /* Цвет текста, но теперь будет цвет SVG */
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.2s;
            display: flex; /* Для центрирования SVG */
            align-items: center;
            justify-content: center;
            width: 30px; /* Фиксированный размер кнопки */
            height: 30px; /* Фиксированный размер кнопки */
        }
        .copy-btn:hover { background-color: #777; }

        .copy-btn .copy-icon {
            width: 18px; /* Размер иконки */
            height: 18px;
            fill: white; /* Цвет иконки по умолчанию */
            transition: fill 0.2s;
        }

        .note {
            background-color: var(--light-blue);
            border-left: 5px solid var(--main-blue);
            padding: 15px;
            margin: 20px 0;
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
            font-family: 'Inter', sans-serif; /* Применяем шрифт Inter */
            font-weight: 300; /* Делаем шрифт тонким */
            line-height: 0.85; /* Уменьшаем межстрочный интервал в 2 раза */
        }
        .note.warn {
            background-color: var(--warn-yellow-bg);
            border-left-color: var(--warn-yellow-border);
        }
        /* Новый стиль для выделения краткого содержания коммита */
        .commit-message {
            background-color: var(--light-lilac); /* Светло-сиреневый фон */
            padding: 2px 5px;
            border-radius: 4px;
            display: inline-block; /* Чтобы фон применялся только к тексту */
            color: var(--text-color); /* Изменен цвет текста для контраста */
        }

        ol, ul { padding-left: 25px; }
        li { margin-bottom: 15px; }
        strong { color: #333; }
        a { color: var(--main-blue); text-decoration: none; }
        a:hover { text-decoration: underline; }

        details details { border-color: #e5e7eb; }
        details details summary { background-color: #f9fafb; font-weight: normal; color: #374151; }
        details details summary::before { color: #6b7280; }
        
        .placeholder-controls { background-color: #fff; padding: 20px; }
        .placeholder-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        .placeholder-group label { display: block; font-weight: bold; margin-bottom: 5px; font-size: 0.9em; }
        .placeholder-group input[type="text"] {
            width: 100%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
            transition: color 0.3s;
        }
        .placeholder-actions {
            display: flex;
            flex-wrap: wrap; /* Разрешить перенос кнопок */
            gap: 10px;
            margin-top: 20px;
            border-top: 1px solid #ddd;
            padding-top: 20px;
            justify-content: center; /* Центрирование кнопок */
        }
        .placeholder-actions button, .placeholder-actions .import-btn-label {
            padding: 8px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            background-color: var(--main-blue); /* Синий фон для всех кнопок */
            color: white;
            flex-grow: 1; /* Кнопки будут расти, чтобы заполнить пространство */
            max-width: 200px; /* Ограничение максимальной ширины для десктопа */
            text-align: center;
            box-sizing: border-box; /* Учитывать padding и border в ширине */
            font-family: "Segoe UI", -apple-system, BlinkMacSystemFont, sans-serif; /* Добавлен font-family */
            font-size: 1em; /* Явно задан размер шрифта для единообразия */
        }
        /* Убираем индивидуальные цвета кнопок, так как все будут синими */
        /* #apply-btn { background-color: var(--main-blue); color: white; } */
        /* #clear-btn { background-color: #6c757d; color: white; } */
        /* #export-btn { background-color: #28a745; color: white; } */
        /* .import-btn-label { background-color: #17a2b8; color: white; display: inline-block; } */
        #import-input { display: none; }
        
        span[data-placeholder] {
            background-color: var(--placeholder-bg);
            padding: 2px 4px;
            border-radius: 3px;
            font-family: Consolas, 'Courier New', monospace;
            transition: background-color 0.3s, color 0.3s;
            color: #546E7A;
            font-weight: bold;
        }

        .placeholder-group input::placeholder { color: #a0a0a0; opacity: 1; font-style: italic; }
        .placeholder-group input::-webkit-input-placeholder { color: #a0a0a0; opacity: 1; font-style: italic; }
        .placeholder-group input:-moz-placeholder { color: #a0a0a0; opacity: 1; font-style: italic; }
        .placeholder-group input::-moz-placeholder { color: #a0a0a0; opacity: 1; font-style: italic; }
        .placeholder-group input:-ms-input-placeholder { color: #a0a0a0; opacity: 1; font-style: italic; }
        .placeholder-group input::-ms-input-placeholder { color: #a0a0a0; opacity: 1; font-style: italic; }

        .tooltip-container { 
            position: relative; 
            display: inline-block; 
            margin-left: 5px; 
            vertical-align: middle; 
            z-index: 1; /* Убедимся, что контейнер имеет z-index */
        }
        .tooltip-icon {
            font-style: normal;
            font-weight: bold;
            color: var(--main-blue);
            cursor: pointer; /* Изменено на pointer для кликабельности */
            border: 1px solid var(--main-blue);
            border-radius: 50%;
            width: 18px;
            height: 18px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8em;
            line-height: 1;
            box-sizing: border-box;
            user-select: none; /* Предотвратить выделение текста при тапе */
        }
        .tooltip-text {
            visibility: hidden;
            width: 300px;
            background-color: var(--light-lilac); /* Светло-сиреневый фон для всплывающих заметок */
            color: #333; /* Изменен цвет текста для лучшей читаемости на светлом фоне */
            border-radius: 6px;
            padding: 8px 10px;
            position: absolute;
            z-index: 9999; /* Увеличен z-index для видимости поверх других элементов */
            bottom: 125%; /* Оставляем позиционирование выше элемента */
            left: 50%;
            margin-left: -150px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.9em;
            line-height: 1.4;
            text-align: left;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            border: 1px solid #ccc; /* Добавлен легкий бордер для выделения */
            pointer-events: none; /* По умолчанию не реагирует на события мыши */
        }
        .tooltip-text.active { /* Класс для активации подсказки через JS */
            visibility: visible;
            opacity: 1;
            pointer-events: auto; /* Реагирует на события мыши при активации */
        }
        .tooltip-text::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: var(--light-lilac) transparent transparent transparent; /* Цвет стрелки соответствует фону */
        }
        /* Удаляем :hover для tooltip-text, так как будет управляться JS */
        /* .tooltip-container:hover .tooltip-text { visibility: visible; opacity: 1; } */

        /* Стиль для тегов внутри всплывающих заметок */
        .tooltip-text code {
            background-color: rgba(100, 100, 150, 0.1); /* Полупрозрачный синий фон */
            color: #000080; /* Темно-синий цвет текста */
            padding: 2px 4px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.85em;
            font-weight: bold;
        }

        #notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: var(--border-radius);
            color: var(--text-color);
            z-index: 9999;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s, transform 0.3s;
            transform: translateY(-20px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        #notification.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
        #notification.error {
            background-color: var(--error-red-bg);
            border: 1px solid var(--error-red-border);
        }
        #notification.success {
            background-color: var(--success-green-bg);
            border: 1px solid var(--success-green-border);
        }

        /* Медиа-запросы для мобильной версии */
        @media (max-width: 768px) {
            h1 {
                font-size: 1.5em; /* Уменьшаем размер заголовка */
                margin-bottom: 20px;
            }

            .container {
                padding: 10px 15px; /* Уменьшаем внутренние отступы контейнера */
            }

            .details-content {
                padding: 10px 10px 15px 10px; /* Уменьшаем отступы внутри блоков details */
            }

            details summary {
                padding: 10px 12px; /* Уменьшаем отступы в заголовках details */
            }

            .placeholder-actions {
                flex-direction: column; /* Кнопки в столбец */
                align-items: stretch; /* Растягиваем кнопки по ширине */
                gap: 8px; /* Уменьшаем расстояние между кнопками */
            }

            .placeholder-actions button, .placeholder-actions .import-btn-label {
                width: 100%; /* Полная ширина для кнопок */
                max-width: none; /* Снимаем ограничение ширины */
                padding: 10px 15px; /* Увеличиваем padding для удобства нажатия */
            }

            .copy-btn {
                opacity: 1; /* Убрана прозрачность */
                background-color: var(--main-blue); /* Фон кнопки синий */
                color: white; /* Цвет текста, если он есть */
                right: 5px; /* Сдвигаем кнопку немного влево */
                padding: 8px; /* Увеличиваем padding для удобства нажатия */
            }

            .copy-btn .copy-icon {
                fill: white; /* Иконка полностью белая */
            }

            .code-block {
                padding-right: 60px; /* Увеличиваем отступ справа для текста кода */
            }
        }
    </style>
</head>
<body>

    <div id="notification"></div>

    <div class="container">
        <h1>
            <a id="main-title-link" href="#">
                <span data-placeholder="page-title"></span> <span class="link-icon">🔗</span>
            </a>
        </h1>
        <!-- Пояснение к ссылке заголовка -->
        <p class="text-gray-500 text-sm text-center mb-6 explanation-text">
            Жмякни здесь <button id="copy-url-button" class="inline-copy-btn">
                <svg class="inline-copy-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M16 1H4C2.9 1 2 1.9 2 3v14h2V3h12V1zm3 4H8C6.9 5 6 5.9 6 7v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                </svg>
            </button>, чтобы скопировать ссылку. Или нажми на заголовок выше, чтобы перейти на страницу публикации.
            Эта ссылка формируется из вашего никнейма GitHub (<span data-placeholder="github-username"></span>) и имени репозитория (<span data-placeholder="repo-name"></span>) в формате:
            <code class="block mt-2" id="generated-link-code">https://<span data-placeholder="github-username"></span>.github.io/<span data-placeholder="repo-name"></span>/</code>
            <br>
            <strong style="color: var(--error-red-border);">Важно:</strong> Переход по этой ссылке, а также её копирование, возможны только после того, как вы полностью создадите репозиторий на GitHub и выполните все шаги данной инструкции до конца. До этого момента ссылка может быть неактивна или вести на пустую страницу.
        </p>
        
        <details open>
            <summary><h3>Панель управления данными</h3></summary>
            <div class="details-content placeholder-controls" style="border:none; padding-top: 0; background: transparent;">
                <div class="placeholder-grid">
                     <div class="placeholder-group">
                        <label for="user-name">Имя и Фамилия</label>
                        <input type="text" id="user-name" placeholder="Ваше Имя Фамилия">
                    </div>
                    <div class="placeholder-group">
                        <label for="github-username">Ваш никнейм на GitHub</label>
                        <input type="text" id="github-username" placeholder="dks5">
                    </div>
                     <div class="placeholder-group">
                        <label for="user-email">Email</label>
                        <input type="text" id="user-email" placeholder="ваш.email@example.com">
                    </div>
                    <div class="placeholder-group">
                        <label for="repo-name">Имя репозитория</label>
                        <input type="text" id="repo-name" placeholder="repo-name">
                    </div>
                    <div class="placeholder-group">
                        <label for="page-title">Название страницы (для редиректа)</label>
                        <input type="text" id="page-title" placeholder="Название HTML страницы для Redirect">
                    </div>
                    <div class="placeholder-group">
                        <label for="ssh-key-path-windows">Путь для SSH-ключа (Windows)</label>
                        <input type="text" id="ssh-key-path-windows" placeholder="C:\Users\User\.ssh\">
                    </div>
                    <div class="placeholder-group">
                        <label for="ssh-key-path-mac">Путь для SSH-key (Mac/Linux)</label>
                        <input type="text" id="ssh-key-path-mac" placeholder="~/.ssh/">
                    </div>
                    <div class="placeholder-group">
                        <label for="ssh-key-filename">Имя файла SSH-ключа</label>
                        <input type="text" id="ssh-key-filename" placeholder="id_ed25519"> </div>
                    <div class="placeholder-group">
                        <label for="ssh-key-comment">Комментарий для SSH-ключа</label>
                        <input type="text" id="ssh-key-comment" placeholder="my-github-key">
                    </div>
                </div>
                <div class="placeholder-actions">
                    <button id="apply-btn">Применить</button>
                    <button id="clear-btn">Очистить значения</button>
                    <button id="export-btn">Экспорт в JSON</button>
                    <label for="import-input" class="import-btn-label">Импорт из JSON</label>
                    <input type="file" id="import-input" accept=".json">
                </div>
            </div>
        </details>

        <div class="note">
            <strong>Подготовка:</strong> Перед началом введите свои данные в "Панели управления" выше и нажмите "Применить".
        </div>

        <h2>Часть 1: Первоначальная настройка Git и GitHub</h2>
        <div class="details-content">
            <details>
                <summary><h3>Шаг 1: Создание аккаунта и установка Git</h3></summary>
                <div class="details-content">
                    <ul>
                        <li><strong>Создайте аккаунт на GitHub:</strong> Если у вас его еще нет, пройдите регистрацию на <a href="https://github.com" target="_blank">официальном сайте GitHub</a>.</li>
                        <li><strong>Установите Git:</strong> Скачайте и установите программу Git с <a href="https://git-scm.com/" target="_blank">официального сайта Git</a>.</li>
                    </ul>
                </div>
            </details>

            <details>
                <summary><h3>Шаг 2: Базовая конфигурация Git</h3></summary>
                <div class="details-content">
                    <div class="note warn">
                        <strong>Важно:</strong> Эту настройку достаточно сделать <strong>один раз</strong> после установки Git.
                    </div>
                    <ol>
                        <li>
                            <p style="margin-bottom: 5px; margin-top: 15px;"><strong>Проверьте текущие настройки:</strong>
                                <span class="tooltip-container">
                                    <i class="tooltip-icon">i</i>
                                    <span class="tooltip-text">Показывает текущие глобальные настройки Git. Убедитесь, что <code>user.name</code> и <code>user.email</code> настроены.</span>
                                </span>
                            </p>
                            <div class="code-block" id="code-check-list">git config --global --list<button class="copy-btn" onclick="copyCode('code-check-list')">
                                <svg class="copy-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M16 1H4C2.9 1 2 1.9 2 3v14h2V3h12V1zm3 4H8C6.9 5 6 5.9 6 7v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                                </svg>
                            </button></div>
                            <p>В выведенном списке должны присутствовать строки <code>user.name=...</code> и <code>user.email=...</code>.</p>
                        </li>
                        <li>
                            <strong>Если данные некорректны или отсутствуют, установите их:</strong>
                            <p style="margin-bottom: 5px; margin-top: 15px;">2.1. <em>Установить имя пользователя:</em>
                                <span class="tooltip-container">
                                    <i class="tooltip-icon">i</i>
                                    <span class="tooltip-text">Устанавливает ваше имя пользователя Git. Оно будет отображаться в истории коммитов. Важно использовать то же имя, что и на GitHub.</span>
                                </span>
                            </p>
                            <div class="code-block" id="code1">git config --global user.name "<span data-placeholder="user-name"></span>"<button class="copy-btn" onclick="copyCode('code1')">
                                <svg class="copy-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M16 1H4C2.9 1 2 1.9 2 3v14h2V3h12V1zm3 4H8C6.9 5 6 5.9 6 7v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                                </svg>
                            </button></div>
                            <p style="margin-bottom: 5px; margin-top: 15px;">2.2. <em>Установить email:</em>
                                <span class="tooltip-container">
                                    <i class="tooltip-icon">i</i>
                                    <span class="tooltip-text">Устанавливает ваш email для Git. Он должен совпадать с email, используемым на GitHub, для корректной привязки коммитов к вашему профилю.</span>
                                </span>
                            </p>
                            <div class="code-block" id="code2">git config --global user.email <span data-placeholder="user-email"></span><button class="copy-btn" onclick="copyCode('code2')">
                                <svg class="copy-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M16 1H4C2.9 1 2 1.9 2 3v14h2V3h12V1zm3 4H8C6.9 5 6 5.9 6 7v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                                </svg>
                            </button></div>
                        </li>
                    </ol>
                </div>
            </details>
            
            <details>
                <summary><h3>Шаг 3: Настройка SSH-ключей</h3></summary>
                <div class="details-content">
                    <p>Для безопасного взаимодействия вашего компьютера с GitHub используется SSH-протокол.</p>
                    <ol>
                        <li>
                            <p style="margin-bottom: 5px; margin-top: 15px;"><strong>Проверка наличия SSH-ключа:</strong>
                                <span class="tooltip-container">
                                    <i class="tooltip-icon">i</i>
                                    <span class="tooltip-text">Проверяет наличие существующих SSH-ключей в вашей системе в директории <code>~/.ssh</code>. Если ключей нет, или вы хотите создать новый, переходите к следующему шагу.</span>
                                </span>
                            </p>
                            <div class="code-block" id="code3">ls -al ~/.ssh<button class="copy-btn" onclick="copyCode('code3')">
                                <svg class="copy-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M16 1H4C2.9 1 2 1.9 2 3v14h2V3h12V1zm3 4H8C6.9 5 6 5.9 6 7v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                                </svg>
                            </button></div>
                        </li>
                        <li>
                            <strong>Генерация нового SSH-ключа, если его нет:</strong>
                            <p style="margin-bottom: 5px; margin-top: 15px;">2.1. <em>Генерация SSH-ключа:</em>
                                <span class="tooltip-container">
                                    <i class="tooltip-icon">i</i>
                                    <span class="tooltip-text">Генерирует новый SSH-ключ. <code>-t ed25519</code> указывает тип шифрования, <code>-C</code> добавляет комментарий (обычно ваш email), а <code>-f</code> указывает путь и имя файла. Если не указан путь, ключ будет создан в стандартной директории. Убедитесь, что плейсхолдеры заполнены верно.</span>
                                </span>
                            </p>
                            <details>
                                <summary><strong>Команда для Windows</strong></summary>
                                <div class="details-content">
                                    <div class="code-block" id="ssh-gen-win">ssh-keygen -t ed25519 -C "<span data-placeholder="ssh-key-comment"></span>" -f <span data-placeholder="ssh-key-path-windows"></span><span data-placeholder="ssh-key-filename"></span><button class="copy-btn" onclick="copyCode('ssh-gen-win')">
                                        <svg class="copy-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                            <path d="M16 1H4C2.9 1 2 1.9 2 3v14h2V3h12V1zm3 4H8C6.9 5 6 5.9 6 7v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                                        </svg>
                                    </button></div>
                                </div>
                            </details>
                            <details>
                                <summary><strong>Команда для macOS / Linux</strong></summary>
                                <div class="details-content">
                                    <div class="code-block" id="ssh-gen-mac">ssh-keygen -t ed25519 -C "<span data-placeholder="ssh-key-comment"></span>" -f <span data-placeholder="ssh-key-path-mac"></span><span data-placeholder="ssh-key-filename"></span><button class="copy-btn" onclick="copyCode('ssh-gen-mac')">
                                        <svg class="copy-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                            <path d="M16 1H4C2.9 1 2 1.9 2 3v14h2V3h12V1zm3 4H8C6.9 5 6 5.9 6 7v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                                        </svg>
                                    </button></div>
                                </div>
                            </details>
                        </li>
                        <li>
                            <strong>Добавление SSH-ключа в аккаунт GitHub:</strong>
                            <ol style="list-style-type: decimal; padding-left: 20px;">
                                <li>
                                    Скопируйте содержимое вашего <strong>публичного</strong> ключа (файл с расширением <code>.pub</code>).
                                    <details>
                                        <summary>Команды для копирования</summary>
                                        <div class="details-content">
                                            <p style="margin-bottom: 5px;"><strong>Для macOS/Linux:</strong>
                                                <span class="tooltip-container">
                                                    <i class="tooltip-icon">i</i>
                                                    <span class="tooltip-text">Копирует содержимое вашего публичного SSH-ключа в буфер обмена. Убедитесь, что имя файла ключа (например, <code>id_ed25519</code>) и путь к нему соответствуют тем, которые вы использовали при генерации.</span>
                                                </span>
                                            </p>
                                            <div class="code-block" id="ssh-copy-mac">cat <span data-placeholder="ssh-key-path-mac"></span><span data-placeholder="ssh-key-filename"></span>.pub | pbcopy<button class="copy-btn" onclick="copyCode('ssh-copy-mac')">
                                                <svg class="copy-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                                    <path d="M16 1H4C2.9 1 2 1.9 2 3v14h2V3h12V1zm3 4H8C6.9 5 6 5.9 6 7v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                                                </svg>
                            </button></div>

                                            <p style="margin-bottom: 5px; margin-top: 20px;"><strong>Для Windows (в Git Bash):</strong>
                                                <span class="tooltip-container">
                                                    <i class="tooltip-icon">i</i>
                                                    <span class="tooltip-text">Копирует содержимое вашего публичного SSH-ключа в буфер обмена. Убедитесь, что имя файла ключа (например, <code>id_ed25519</code>) и путь к нему соответствуют тем, которые вы использовали при генерации.</span>
                                                </span>
                                            </p>
                                            <div class="code-block" id="ssh-copy-win">cat <span data-placeholder="ssh-key-path-windows"></span><span data-placeholder="ssh-key-filename"></span>.pub | clip<button class="copy-btn" onclick="copyCode('ssh-copy-win')">
                                                <svg class="copy-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                                    <path d="M16 1H4C2.9 1 2 1.9 2 3v14h2V3h12V1zm3 4H8C6.9 5 6 5.9 6 7v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                                                </svg>
                            </button></div>
                                        </div>
                                    </details>
                                </li>
                                <li>На сайте GitHub перейдите в <code>Settings</code> → <code>SSH and GPG keys</code>.</li>
                                <li>Нажмите <code>New SSH key</code>, дайте ключу имя (например, "My Laptop") и вставьте скопированный ключ в поле "Key".</li>
                            </ol>
                        </li>
                    </ol>
                </div>
            </details>
        </div>

        <h2>Часть 2: Создание репозитория и загрузка файла</h2>
        <div class="details-content">
            <details>
                <summary><h3>Шаг 4: Создание нового репозитория на GitHub</h3></summary>
                <div class="details-content">
                    <ol>
                        <li>На сайте GitHub нажмите на <code>+</code> в правом верхнем углу и выберите <strong>"New repository"</strong>.</li>
                        <li>Введите имя репозитория. Оно должно совпадать с тем, что указано в панели управления: <code><span data-placeholder="repo-name"></span></code></li>
                        <li>Убедитесь, что репозиторий <strong>Public</strong> и нажмите <strong>"Create repository"</strong>.</li>
                    </ol>
                </div>
            </details>
            
            <details>
                <summary><h3>Шаг 5: Подготовка файлов и инициализация Git локально</h3></summary>
                <div class="details-content">
                    <ol>
                        <li>
                            На своем компьютере создайте папку с именем вашего репозитория: <code><span data-placeholder="repo-name"></span></code>.
                        </li>
                        <li>
                            Сохраните ваш основной HTML-файл (например, файл с содержимым вашей публикации) в эту новую папку, назвав его: <code><span data-placeholder="repo-name"></span>.html</code>.
                        </li>
                        <li>
                            Создайте новый текстовый файл в той же папке (<code><span data-placeholder="repo-name"></span></code>) и назовите его <code>index.html</code>.
                        </li>
                        <li>
                            Скопируйте и вставьте следующий HTML-код в файл <code>index.html</code>:
                            <div class="code-block" id="redirect-html-code">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;Перенаправление...&lt;/title&gt;
    &lt;link rel="canonical" href="https://<span data-placeholder="github-username"></span>.github.io/<span data-placeholder="repo-name"></span>/<span data-placeholder="repo-name"></span>.html"&gt;
    &lt;style&gt;
        body {
            font-family: "Segoe UI", -apple-system, BlinkMacSystemFont, sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background-color: #f7f9fc;
            color: #333;
            text-align: center;
            padding: 20px;
            box-sizing: border-box;
        }
        .redirect-container {
            background-color: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            max-width: 600px; /* Увеличена максимальная ширина */
            width: 100%;
        }
        h1 {
            color: #2c72c7;
            font-size: 1.8em;
            margin-bottom: 20px;
        }
        p {
            font-size: 1.1em;
            line-height: 1.6;
            margin-bottom: 25px;
        }
        .redirect-button {
            padding: 12px 25px;
            background-color: #2c72c7;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1em;
            cursor: pointer;
            transition: background-color 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }
        .redirect-button:hover {
            background-color: #1e5a8c;
        }
        .countdown {
            margin-top: 15px;
            font-size: 0.9em;
            color: #666;
        }
        a {
            color: #2c72c7;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        .safety-note {
            font-size: 0.9em;
            color: #555;
            margin-top: 20px;
            padding: 15px;
            border: 1px solid #d4edda;
            background-color: #e9f7ef;
            border-radius: 5px;
            text-align: left;
        }
        .target-url-display {
            margin-top: 15px;
            font-size: 0.9em;
            color: #444;
            word-break: break-all; /* Для длинных URL */
            background-color: #f0f8ff;
            padding: 8px;
            border-radius: 4px;
            border: 1px dashed #a0c0e0;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div class="redirect-container"&gt;
        &lt;h1&gt;Перенаправление на страницу публикации&lt;/h1&gt;
        &lt;p&gt;Вы будете перенаправлены на страницу:&lt;/p&gt;
        &lt;div class="target-url-display"&gt;
            &lt;strong&gt;URL:&lt;/strong&gt; &lt;span id="display-target-url"&gt;&lt;/span&gt;
        &lt;/div&gt;
        &lt;p&gt;
           &lt;a id="redirect-link" href="https://<span data-placeholder="github-username"></span>.github.io/<span data-placeholder="repo-name"></span>/<span data-placeholder="repo-name"></span>.html"&gt;
               &lt;span data-placeholder="page-title"&gt;&lt;/span&gt;
           &lt;/a&gt;
        &lt;/p&gt;
        &lt;button id="confirm-redirect-btn" class="redirect-button"&gt;Перейти сейчас&lt;/button&gt;
        &lt;p class="countdown" id="countdown-message"&gt;Автоматический переход: &lt;span id="countdown-timer"&gt;Функция в разработке&lt;/span&gt;&lt;/p&gt;
        
        &lt;div class="safety-note"&gt;
            &lt;p&gt;&lt;strong&gt;Важное примечание для посетителей:&lt;/strong&gt;&lt;/p&gt;
            &lt;p&gt;Эта страница служит для автоматического перенаправления на основную страницу публикации, размещенную на GitHub Pages. Переход по ссылке является полностью безопасным, так как вы остаетесь в рамках домена &lt;code&gt;github.io&lt;/code&gt;, контролируемого владельцем репозитория.&lt;/p&gt;
            &lt;p&gt;Вы можете дождаться автоматического перехода (эта функция пока в разработке) или нажать кнопку "Перейти сейчас". Ваше решение о переходе является осознанным выбором.&lt;/p&gt;
            &lt;p&gt;&lt;strong&gt;Потенциальные последствия:&lt;/strong&gt; Отсутствуют. Данный код не собирает личные данные, не устанавливает вредоносное ПО и не изменяет настройки вашего устройства. Он лишь направляет ваш браузер на другую страницу в том же безопасном домене.&lt;/p&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    &lt;script&gt;
        document.addEventListener('DOMContentLoaded', () => {
            const redirectLinkElement = document.getElementById('redirect-link');
            const confirmButton = document.getElementById('confirm-redirect-btn');
            const countdownMessage = document.getElementById('countdown-message');
            const countdownTimer = document.getElementById('countdown-timer');
            const displayTargetUrlElement = document.getElementById('display-target-url');


            // Целевой URL уже корректно установлен в атрибуте href ссылки
            // благодаря логике замены плейсхолдеров на основной странице.
            // Поэтому мы просто считываем его напрямую из элемента.
            const targetUrl = redirectLinkElement.href;
            console.log('Target URL:', targetUrl); // Добавлено для отладки

            // Отображаем URL на странице
            displayTargetUrlElement.textContent = targetUrl;

            // Отключаем таймер и показываем сообщение о разработке
            countdownTimer.textContent = 'Функция в разработке';
            // clearInterval(countdownInterval); // Эта строка теперь не нужна, т.к. setInterval не запускается

            // Логика кнопки "Перейти сейчас" остается прежней
            confirmButton.addEventListener('click', () => {
                // clearInterval(countdownInterval); // Также не нужна, т.к. интервал не активен
                window.location.href = targetUrl;
            });

            // startCountdown(); // Закомментировано, чтобы таймер не запускался автоматически
        });
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;<button class="copy-btn" onclick="copyCode('redirect-html-code')">
                                <svg class="copy-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M16 1H4C2.9 1 2 1.9 2 3v14h2V3h12V1zm3 4H8C6.9 5 6 5.9 6 7v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                                </svg>
                            </button></div>
                            <div class="note">
                                <strong>Важно:</strong> Все данные, которые вы введете в "Панели управления", будут автоматически подставлены в соответствующие примеры команд и тексты на этой странице.
                            </div>
                        </li>
                        <li>
                            Откройте терминал (командную строку или Git Bash) и перейдите в созданную папку (<code>cd <span data-placeholder="repo-name"></span></code>).
                        </li>
                        <li>
                            <p style="margin-bottom: 5px;"><strong>Инициализируйте Git в папке</strong>, выполнив команду:
                                <span class="tooltip-container">
                                    <i class="tooltip-icon">i</i>
                                    <span class="tooltip-text">Инициализирует новый локальный Git репозиторий в текущей директории. Эта команда создает скрытую папку <code>.git</code>, где Git хранит все данные о вашем проекте.</span>
                                </span>
                            </p>
                            <div class="code-block" id="code6">git init<button class="copy-btn" onclick="copyCode('code6')">
                                <svg class="copy-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M16 1H4C2.9 1 2 1.9 2 3v14h2V3h12V1zm3 4H8C6.9 5 6 5.9 6 7v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                                </svg>
                            </button></div>
                        </li>
                    </ol>
                </div>
            </details>

            <details>
                <summary><h3>Шаг 6: Первый коммит и отправка файлов на GitHub</h3></summary>
                <div class="details-content">
                    <ol>
                        <li>
                            <p style="margin-bottom: 5px;"><strong>Добавьте все файлы для отслеживания:</strong>
                                <span class="tooltip-container">
                                    <i class="tooltip-icon">i</i>
                                    <span class="tooltip-text">Добавляет все новые и измененные файлы в 'область подготовленных изменений' (staging area). Это означает, что Git начнет отслеживать изменения в этих файлах и подготовит их для следующего коммита.</span>
                                </span>
                            </p>
                            <div class="code-block" id="code7">git add .<button class="copy-btn" onclick="copyCode('code7')">
                                <svg class="copy-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M16 1H4C2.9 1 2 1.9 2 3v14h2V3h12V1zm3 4H8C6.9 5 6 5.9 6 7v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                                </svg>
                            </button></div>
                        </li>
                        <li>
                            <p style="margin-bottom: 5px;"><strong>Зафиксируйте изменения:</strong>
                                <span class="tooltip-container">
                                    <i class="tooltip-icon">i</i>
                                    <span class="tooltip-text">Создает 'снимок' текущих изменений в отслеживаемых файлах и сохраняет его в истории репозитория. <code>-m</code> позволяет добавить краткое сообщение к коммиту, описывающее внесенные изменения.</span>
                                </span>
                            </p>
                            <div class="code-block" id="code8">git commit -m "<span class="commit-message">Обновление файлов проекта</span>"<button class="copy-btn" onclick="copyCode('code8')">
                                <svg class="copy-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M16 1H4C2.9 1 2 1.9 2 3v14h2V3h12V1zm3 4H8C6.9 5 6 5.9 6 7v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                                </svg>
                            </button></div>
                        </li>
                        <li>
                            <p style="margin-bottom: 5px;"><strong>Переименуйте основную ветку в `main`:</strong>
                                <span class="tooltip-container">
                                    <i class="tooltip-icon">i</i>
                                    <span class="tooltip-text">Переименовывает текущую ветку в <code>main</code>. В Git 'main' (или 'master') является стандартным именем для основной ветки проекта.</span>
                                </span>
                            </p>
                            <div class="code-block" id="code9">git branch -M main<button class="copy-btn" onclick="copyCode('code9')">
                                <svg class="copy-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M16 1H4C2.9 1 2 1.9 2 3v14h2V3h12V1zm3 4H8C6.9 5 6 5.9 6 7v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                                </svg>
                            </button></div>
                        </li>
                        <li>
                            <p style="margin-bottom: 5px;"><strong>Привяжите ваш локальный репозиторий к удаленному:</strong>
                                <span class="tooltip-container">
                                    <i class="tooltip-icon">i</i>
                                    <span class="tooltip-text">Связывает ваш локальный репозиторий с удаленным репозиторием на GitHub. <code>'origin'</code> - это общепринятое имя для удаленного репозитория. Убедитесь, что ваш никнейм на GitHub и имя репозитория указаны корректно.</span>
                                </span>
                            </p>
                            <div class="code-block" id="code10">git remote add origin git@github.com:<span data-placeholder="github-username"></span>/<span data-placeholder="repo-name"></span>.git<button class="copy-btn" onclick="copyCode('code10')">
                                <svg class="copy-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M16 1H4C2.9 1 2 1.9 2 3v14h2V3h12V1zm3 4H8C6.9 5 6 5.9 6 7v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                                </svg>
                            </button></div>
                        </li>
                        <li>
                            <p style="margin-bottom: 5px;"><strong>Отправьте ваши файлы на GitHub</strong>:
                                <span class="tooltip-container">
                                    <i class="tooltip-icon">i</i>
                                    <span class="tooltip-text">Отправляет (загружает) локальные коммиты из ветки <code>main</code> в удаленный репозиторий на GitHub. <code>-u</code> (или <code>--set-upstream</code>) устанавливает отслеживание для текущей ветки, так что в будущем вы сможете использовать просто <code>git push</code>.</span>
                                </span>
                            </p>
                            <div class="code-block" id="code11">git push -u origin main<button class="copy-btn" onclick="copyCode('code11')">
                                <svg class="copy-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M16 1H4C2.9 1 2 1.9 2 3v14h2V3h12V1zm3 4H8C6.9 5 6 5.9 6 7v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                                </svg>
                            </button></div>
                        </li>
                    </ol>
                </div>
            </details>
        </div>
        
        <h2>Часть 3: Публикация страницы с помощью GitHub Pages</h2>
        <div class="details-content">
            <details>
                <summary><h3>Шаг 7: Активация GitHub Pages</h3></summary>
                <div class="details-content">
                    <ol>
                        <li>В вашем репозитории на GitHub перейдите во вкладку <strong>"Settings"</strong>.</li>
                        <li>В меню слева выберите <strong>"Pages"</strong>.</li>
                        <li>В разделе "Build and deployment" в качестве источника ("Source") выберите <strong>"Deploy from a branch"</strong>.</li>
                        <li>Убедитесь, что выбрана ветка <code>main</code> и папка <code>/root</code>, и нажмите <strong>"Save"</strong>.</li>
                        <li>Подождите 1-2 минуты. Страница обновится, и вверху появится плашка с адресом вашего сайта.</li>
                    </ol>
                    <div class="note">
                        <strong>Готово!</strong> Теперь по ссылке вида <code>https://<span data-placeholder="github-username"></span>.github.io/<span data-placeholder="repo-name"></span>/</code> будет доступна ваша интерактивная инструкция через перенаправление с <code>index.html</code>. Файл с основным контентом будет доступен по адресу <code>https://<span data-placeholder="github-username"></span>.github.io/<span data-placeholder="repo-name"></span>/<span data-placeholder="repo-name"></span>.html</code>.
                    </div>
                </div>
            </details>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const placeholderInputs = document.querySelectorAll('.placeholder-group input');
            const applyBtn = document.getElementById('apply-btn');
            const clearBtn = document.getElementById('clear-btn');
            const exportBtn = document.getElementById('export-btn');
            const importInput = document.getElementById('import-input');
            const notificationEl = document.getElementById('notification');
            const tooltipIcons = document.querySelectorAll('.tooltip-icon');
            let activeTooltip = null;

            const showNotification = (message, type = 'error') => {
                notificationEl.textContent = message;
                notificationEl.className = ''; // Reset classes
                notificationEl.classList.add(type, 'show');
                setTimeout(() => {
                    notificationEl.classList.remove('show');
                }, 3000);
            };

            const applyPlaceholders = () => {
                const placeholderMap = {};
                document.querySelectorAll('span[data-placeholder]').forEach(span => {
                    const key = span.dataset.placeholder;
                    // Fix: Initialize the array if it doesn't exist
                    if (!placeholderMap[key]) {
                        placeholderMap[key] = [];
                    }
                    placeholderMap[key].push(span);
                });

                const githubUsernameInput = document.getElementById('github-username');
                const repoNameInput = document.getElementById('repo-name');
                const pageTitleInput = document.getElementById('page-title'); 

                const mainTitleLink = document.getElementById('main-title-link');
                const generatedLinkCode = document.getElementById('generated-link-code');


                // Обновляем текстовое содержимое всех span-ов с плейсхолдерами
                placeholderInputs.forEach(input => {
                    const key = input.id;
                    const value = input.value || input.placeholder; // Используем placeholder как запасной вариант
                    if (placeholderMap[key]) {
                        placeholderMap[key].forEach(span => {
                            span.innerText = value;
                        });
                    }
                });

                // Динамически обновляем атрибут href для ссылки в заголовке
                const username = githubUsernameInput.value || githubUsernameInput.placeholder;
                const repo = repoNameInput.value || repoNameInput.placeholder;
                let generatedUrlForH1 = '#'; 
                if (username && repo) {
                    generatedUrlForH1 = `https://${username}.github.io/${repo}/`; // Изменено для заголовка H1
                }
                mainTitleLink.href = generatedUrlForH1;

                // Обновляем текст в code блоке для отображения формата ссылки
                if (generatedLinkCode) {
                    generatedLinkCode.innerHTML = `https://${username}.github.io/${repo}/`; // Изменено для отображения формата ссылки
                }
            };
            
            const clearPlaceholders = () => {
                placeholderInputs.forEach(input => {
                    input.value = '';
                });
                applyPlaceholders();
            };

            const exportPlaceholders = () => {
                const values = {};
                placeholderInputs.forEach(input => values[input.id] = input.value);
                const a = document.createElement('a');
                a.href = URL.createObjectURL(new Blob([JSON.stringify(values, null, 2)], { type: 'application/json' }));
                a.download = 'git-guide-config.json';
                a.click();
                URL.revokeObjectURL(a.href);
            };

            const importPlaceholders = (event) => {
                const file = event.target.files[0];
                if (!file) return;
                const reader = new FileReader();
                reader.onload = (e) => {
                    try {
                        const values = JSON.parse(e.target.result);
                        placeholderInputs.forEach(input => {
                            if (values[input.id] !== undefined) input.value = values[input.id];
                        });
                        applyPlaceholders();
                    } catch (error) { 
                        showNotification("Ошибка: Не удалось прочитать JSON файл.", "error");
                    }
                };
                reader.readAsText(file);
                event.target.value = '';
            };

            applyBtn.addEventListener('click', applyPlaceholders);
            clearBtn.addEventListener('click', clearPlaceholders);
            exportBtn.addEventListener('click', exportPlaceholders);
            importInput.addEventListener('change', importPlaceholders);

            window.copyCode = function(elementId) {
                const codeBlock = document.getElementById(elementId);
                const button = codeBlock.querySelector('.copy-btn');
                const copyIcon = button.querySelector('.copy-icon'); // Получаем SVG-иконку
                
                // Clone the node to avoid modifying the original
                const nodeToCopy = codeBlock.cloneNode(true);
                
                // Remove the button from the cloned node before getting the text
                const copyButtonInClonedNode = nodeToCopy.querySelector('.copy-btn');
                if (copyButtonInClonedNode) {
                    copyButtonInClonedNode.remove();
                }
                
                // The browser automatically decodes HTML entities when using innerText or textContent
                // This handles the escaped HTML in the 'redirect-html-code' block correctly
                const codeText = nodeToCopy.innerText || nodeToCopy.textContent;
                
                navigator.clipboard.writeText(codeText.trim()).then(() => {
                    // Меняем цвет иконки на зеленый для индикации копирования
                    copyIcon.style.fill = '#28a745'; // Success green
                    
                    setTimeout(() => {
                        // Возвращаем цвет иконки к исходному (белому)
                        copyIcon.style.fill = 'white'; 
                    }, 2000);
                });
            }

            // --- Tooltip functionality for mobile (click to toggle) ---
            tooltipIcons.forEach(icon => {
                icon.addEventListener('click', (event) => {
                    event.stopPropagation(); // Предотвратить закрытие, если клик был внутри другого тултипа
                    const tooltipText = icon.nextElementSibling;

                    if (activeTooltip && activeTooltip !== tooltipText) {
                        activeTooltip.classList.remove('active'); // Скрыть предыдущий активный тултип
                    }

                    tooltipText.classList.toggle('active');
                    activeTooltip = tooltipText.classList.contains('active') ? tooltipText : null;
                });

                // Для десктопа: показывать/скрывать по наведению
                icon.parentNode.addEventListener('mouseenter', () => {
                    if (window.innerWidth > 768) {
                        icon.nextElementSibling.classList.add('active');
                    }
                });
                icon.parentNode.addEventListener('mouseleave', () => {
                    if (window.innerWidth > 768) {
                        icon.nextElementSibling.classList.remove('active');
                    }
                });
            });

            // Скрыть активный тултип при клике вне его
            document.addEventListener('click', (event) => {
                if (activeTooltip && !activeTooltip.parentNode.contains(event.target)) {
                    activeTooltip.classList.remove('active');
                    activeTooltip = null;
                }
            });

            // Добавляем обработчик для новой кнопки "Копировать"
            const copyUrlButton = document.getElementById('copy-url-button');
            if (copyUrlButton) {
                copyUrlButton.addEventListener('click', () => {
                    const githubUsernameInput = document.getElementById('github-username');
                    const repoNameInput = document.getElementById('repo-name');
                    const username = githubUsernameInput.value || githubUsernameInput.placeholder;
                    const repo = repoNameInput.value || repoNameInput.placeholder;
                    const urlToCopy = `https://${username}.github.io/${repo}/`; // Изменено для кнопки копирования

                    // Теперь нет текстового элемента внутри кнопки, только SVG-иконка
                    const buttonIcon = copyUrlButton.querySelector('.inline-copy-icon'); // Get the SVG icon

                    navigator.clipboard.writeText(urlToCopy).then(() => {
                        if (buttonIcon) buttonIcon.style.fill = '#28a745'; // Change icon color to green
                        copyUrlButton.classList.add('copied');
                        setTimeout(() => {
                            if (buttonIcon) buttonIcon.style.fill = 'white'; // Reset icon color to white
                            copyUrlButton.classList.remove('copied');
                        }, 2000);
                    }).catch(err => {
                        console.error('Ошибка при копировании URL: ', err);
                        showNotification('Не удалось скопировать URL.', 'error');
                    });
                });
            }

            // Initial application of placeholders on page load
            applyPlaceholders(); 
        });
    </script>
</body>
</html>
