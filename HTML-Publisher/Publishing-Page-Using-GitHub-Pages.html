<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Полная интерактивная инструкция по Git и GitHub (v9)</title>
    <style>
        :root {
            --main-blue: #2c72c7;
            --light-blue: #e6f0fb;
            --warn-yellow-bg: #fffbdd;
            --warn-yellow-border: #ffca28;
            --bg-color: #f7f9fc;
            --text-color: #333333;
            --code-bg: #2d2d2d;
            --code-text-color: #f8f8f2;
            --border-radius: 8px;
            --page-width: 900px;
            --header-color: #1e5a8c;
            --placeholder-bg: #fffbdd;
        }

        body {
            font-family: "Segoe UI", -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.7;
            padding: 20px;
            margin: 0;
        }

        .container {
            max-width: var(--page-width);
            margin: auto;
            background-color: #fff;
            padding: 20px 40px;
            border-radius: var(--border-radius);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }

        h1, h2, h3 {
            color: var(--header-color);
            margin-top: 0;
            border-bottom: 1px solid #e5e5e5;
            padding-bottom: 10px;
        }

        h1 {
            text-align: center;
            font-size: 2.2em;
            border-bottom: 2px solid var(--main-blue);
            margin-bottom: 30px;
        }
        h2 {
            font-size: 1.8em;
            margin-top: 40px;
        }
        h3 {
            font-size: 1.4em;
            margin-top: 25px;
            border-bottom-style: dashed;
        }
        h4 {
             margin-top: 0;
             color: var(--main-blue);
             border-bottom: 1px solid #ddd;
             padding-bottom: 10px;
        }

        details {
            border: 1px solid #e0e0e0;
            border-radius: var(--border-radius);
            margin-bottom: 15px;
            background-color: #fff;
            overflow: hidden;
        }
        details summary {
            cursor: pointer;
            padding: 12px 18px;
            font-weight: bold;
            color: var(--main-blue);
            display: flex;
            align-items: center;
            list-style: none;
            background-color: #fdfdfd;
        }
        details summary::-webkit-details-marker { display: none; }
        details summary::before {
            content: '▶';
            color: var(--main-blue);
            margin-right: 12px;
            font-size: 0.9em;
            transition: transform 0.2s ease-in-out;
        }
        details[open]>summary {
            border-bottom: 1px solid #e0e0e0;
        }
        details[open]>summary::before {
            transform: rotate(90deg);
        }
        details summary>* {
            margin: 0;
        }
        .details-content {
            padding: 10px 20px 20px 20px;
        }

        .code-block {
            background-color: var(--code-bg);
            color: var(--code-text-color);
            padding: 15px 20px;
            border-radius: var(--border-radius);
            position: relative;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
            white-space: pre-wrap;
            overflow-wrap: break-word;
        }
        :not(pre)>code {
            background-color: #eef;
            color: #3f3f9e;
            padding: 3px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        .copy-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 5px 10px;
            font-size: 0.8em;
            background: #555;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .copy-btn:hover {
            background-color: #777;
        }

        .note {
            background-color: var(--light-blue);
            border-left: 5px solid var(--main-blue);
            padding: 15px;
            margin: 20px 0;
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
        }
        .note.warn {
            background-color: var(--warn-yellow-bg);
            border-left-color: var(--warn-yellow-border);
        }

        ol, ul {
            padding-left: 25px;
        }
        li {
            margin-bottom: 15px;
        }
        strong {
            color: #333;
        }
        a {
            color: var(--main-blue);
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }

        details details {
            border-color: #e5e7eb;
        }
        details details summary {
            background-color: #f9fafb;
            font-weight: normal;
            color: #374151;
        }
        details details summary::before {
            color: #6b7280;
        }
        
        .placeholder-controls {
            background-color: #fff;
            padding: 20px;
        }
        .placeholder-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        .placeholder-group label {
            display: block;
            font-weight: bold;
            margin-bottom: 5px;
            font-size: 0.9em;
        }
        .placeholder-group input[type="text"] {
            width: 100%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
            transition: color 0.3s;
        }
        .placeholder-actions {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
            border-top: 1px solid #ddd;
            padding-top: 20px;
        }
        .placeholder-actions button, .placeholder-actions .import-btn-label {
            padding: 8px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
        }
        #apply-btn { background-color: var(--main-blue); color: white; }
        #clear-btn { background-color: #6c757d; color: white; }
        #export-btn { background-color: #28a745; color: white; }
        .import-btn-label { background-color: #17a2b8; color: white; display: inline-block; }
        #import-input { display: none; }
        
        span[data-placeholder] {
            background-color: var(--placeholder-bg);
            padding: 2px 4px;
            border-radius: 3px;
            font-family: Consolas, 'Courier New', monospace;
            transition: background-color 0.3s, color 0.3s;
            color: #546E7A;
            font-weight: bold;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>Интерактивная инструкция по Git и GitHub</h1>
        
        <details open>
            <summary><h3>Панель управления данными</h3></summary>
            <div class="details-content placeholder-controls" style="border:none; padding-top: 0; background: transparent;">
                <div class="placeholder-grid">
                     <div class="placeholder-group">
                        <label for="user-name">Имя и Фамилия</label>
                        <input type="text" id="user-name" value="Vasya Pupkin">
                    </div>
                    <div class="placeholder-group">
                        <label for="github-username">Ваш никнейм на GitHub</label>
                        <input type="text" id="github-username" value="your-username">
                    </div>
                     <div class="placeholder-group">
                        <label for="user-email">Email</label>
                        <input type="text" id="user-email" value="vasya.pupkin@example.com">
                    </div>
                    <div class="placeholder-group">
                        <label for="repo-name">Имя репозитория</label>
                        <input type="text" id="repo-name" value="git-interactive-guide">
                    </div>
                    <div class="placeholder-group">
                        <label for="ssh-key-path-windows">Путь для SSH-ключа (Windows)</label>
                        <input type="text" id="ssh-key-path-windows" value="C:\Users\User\.ssh\">
                    </div>
                    <div class="placeholder-group">
                        <label for="ssh-key-path-mac">Путь для SSH-ключа (Mac/Linux)</label>
                        <input type="text" id="ssh-key-path-mac" value="~/.ssh/">
                    </div>
                    <div class="placeholder-group">
                        <label for="ssh-key-filename">Имя файла SSH-ключа</label>
                        <input type="text" id="ssh-key-filename" value="id_ed25519_github">
                    </div>
                    <div class="placeholder-group">
                        <label for="ssh-key-comment">Комментарий для SSH-ключа</label>
                        <input type="text" id="ssh-key-comment" value="my-github-key">
                    </div>
                </div>
                <div class="placeholder-actions">
                    <button id="apply-btn">Применить</button>
                    <button id="clear-btn">Очистить значения</button>
                    <button id="export-btn">Экспорт в JSON</button>
                    <label for="import-input" class="import-btn-label">Импорт из JSON</label>
                    <input type="file" id="import-input" accept=".json">
                </div>
            </div>
        </details>

        <div class="note">
            <strong>Подготовка:</strong> Перед началом введите свои данные в "Панели управления" выше и нажмите "Применить".
        </div>

        <h2>Часть 1: Первоначальная настройка Git и GitHub</h2>
        <div class="details-content">
            <details>
                <summary><h3>Шаг 1: Создание аккаунта и установка Git</h3></summary>
                <div class="details-content">
                    <ul>
                        <li><strong>Создайте аккаунт на GitHub:</strong> Если у вас его еще нет, пройдите регистрацию на <a href="https://github.com" target="_blank">официальном сайте GitHub</a>.</li>
                        <li><strong>Установите Git:</strong> Скачайте и установите программу Git с <a href="https://git-scm.com/" target="_blank">официального сайта Git</a>.</li>
                    </ul>
                </div>
            </details>

            <details>
                <summary><h3>Шаг 2: Базовая конфигурация Git</h3></summary>
                <div class="details-content">
                    <div class="note warn">
                        <strong>Важно:</strong> Эту настройку достаточно сделать <strong>один раз</strong> после установки Git.
                    </div>
                    <ol>
                        <li>
                            <strong>Сначала проверьте текущие настройки:</strong>
                            <div class="code-block" id="code-check-list">git config --global --list<button class="copy-btn" onclick="copyCode('code-check-list')">Копировать</button></div>
                            <p>В выведенном списке должны присутствовать строки <code>user.name=...</code> и <code>user.email=...</code>.</p>
                        </li>
                        <li>
                            <strong>Если данные некорректны, установите их:</strong>
                            <p style="margin-bottom: 5px; margin-top: 15px;"><em>Установить имя пользователя:</em></p>
                            <div class="code-block" id="code1">git config --global user.name "<span data-placeholder="user-name"></span>"<button class="copy-btn" onclick="copyCode('code1')">Копировать</button></div>
                            <p style="margin-bottom: 5px; margin-top: 15px;"><em>Установить email:</em></p>
                            <div class="code-block" id="code2">git config --global user.email <span data-placeholder="user-email"></span><button class="copy-btn" onclick="copyCode('code2')">Копировать</button></div>
                        </li>
                    </ol>
                </div>
            </details>
            
            <details>
                <summary><h3>Шаг 3: Настройка SSH-ключей</h3></summary>
                <div class="details-content">
                    <p>Для безопасного взаимодействия вашего компьютера с GitHub используется SSH-протокол.</p>
                    <ol>
                        <li>
                            <strong>Проверка наличия SSH-ключа:</strong>
                            <div class="code-block" id="code3">ls -al ~/.ssh<button class="copy-btn" onclick="copyCode('code3')">Копировать</button></div>
                        </li>
                        <li>
                            <strong>Генерация нового SSH-ключа, если его нет:</strong>
                            <details>
                                <summary><strong>Вариант для Windows</strong></summary>
                                <div class="details-content">
                                    <div class="code-block" id="ssh-gen-win">ssh-keygen -t ed25519 -C "<span data-placeholder="ssh-key-comment"></span>" -f <span data-placeholder="ssh-key-path-windows"></span><span data-placeholder="ssh-key-filename"></span><button class="copy-btn" onclick="copyCode('ssh-gen-win')">Копировать</button></div>
                                </div>
                            </details>
                            <details>
                                <summary><strong>Вариант для macOS / Linux</strong></summary>
                                <div class="details-content">
                                     <div class="code-block" id="ssh-gen-mac">ssh-keygen -t ed25519 -C "<span data-placeholder="ssh-key-comment"></span>" -f <span data-placeholder="ssh-key-path-mac"></span><span data-placeholder="ssh-key-filename"></span><button class="copy-btn" onclick="copyCode('ssh-gen-mac')">Копировать</button></div>
                                </div>
                            </details>
                        </li>
                        <li>
                            <strong>Добавление SSH-ключа в аккаунт GitHub:</strong>
                            <ol style="list-style-type: decimal; padding-left: 20px;">
                                <li>Скопируйте содержимое вашего <strong>публичного</strong> ключа (.pub).</li>
                                <li>
                                    <p style="margin-bottom: 5px;"><strong>Для macOS/Linux:</strong></p>
                                    <div class="code-block" id="ssh-copy-mac">cat <span data-placeholder="ssh-key-path-mac"></span><span data-placeholder="ssh-key-filename"></span>.pub | pbcopy<button class="copy-btn" onclick="copyCode('ssh-copy-mac')">Копировать</button></div>

                                    <p style="margin-bottom: 5px; margin-top: 20px;"><strong>Для Windows (в Git Bash):</strong></p>
                                    <div class="code-block" id="ssh-copy-win">cat <span data-placeholder="ssh-key-path-windows"></span><span data-placeholder="ssh-key-filename"></span>.pub | clip<button class="copy-btn" onclick="copyCode('ssh-copy-win')">Копировать</button></div>
                                </li>
                                <li>На сайте GitHub перейдите в <code>Settings</code> → <code>SSH and GPG keys</code>, нажмите <code>New SSH key</code> и вставьте ключ.</li>
                            </ol>
                        </li>
                    </ol>
                </div>
            </details>
        </div>

        <h2>Часть 2: Создание репозитория и загрузка файла</h2>
        <div class="details-content">
            <details>
                <summary><h3>Шаг 4: Создание нового репозитория на GitHub</h3></summary>
                <div class="details-content">
                    <ol>
                        <li>На сайте GitHub нажмите на <code>+</code> в правом верхнем углу и выберите <strong>"New repository"</strong>.</li>
                        <li>Введите имя репозитория. Оно должно совпадать с тем, что указано в панели управления: <code><span data-placeholder="repo-name"></span></code></li>
                        <li>Убедитесь, что репозиторий <strong>Public</strong> и нажмите <strong>"Create repository"</strong>.</li>
                    </ol>
                </div>
            </details>
            
            <details>
                <summary><h3>Шаг 5: Подготовка локальной папки и инициализация Git</h3></summary>
                <div class="details-content">
                    <ol>
                        <li>На своем компьютере создайте папку с таким же названием: <code><span data-placeholder="repo-name"></span></code>.</li>
                        <li>Переместите в эту папку ваш файл <code>index.html</code>.</li>
                        <li>Откройте терминал в этой папке.</li>
                        <li><strong>Инициализируйте Git в папке</strong>, выполнив команду:
                             <div class="code-block" id="code6">git init<button class="copy-btn" onclick="copyCode('code6')">Копировать</button></div>
                        </li>
                    </ol>
                </div>
            </details>

            <details>
                <summary><h3>Шаг 6: Первый коммит и отправка файла на GitHub</h3></summary>
                <div class="details-content">
                    <ol>
                        <li><strong>Добавьте файл для отслеживания:</strong>
                            <div class="code-block" id="code7">git add index.html<button class="copy-btn" onclick="copyCode('code7')">Копировать</button></div>
                        </li>
                        <li><strong>Зафиксируйте изменения:</strong>
                            <div class="code-block" id="code8">git commit -m "Initial commit"<button class="copy-btn" onclick="copyCode('code8')">Копировать</button></div>
                        </li>
                        <li><strong>Переименуйте основную ветку в `main`:</strong>
                            <div class="code-block" id="code9">git branch -M main<button class="copy-btn" onclick="copyCode('code9')">Копировать</button></div>
                        </li>
                        <li><strong>Привяжите ваш локальный репозиторий к удаленному:</strong>
                            <div class="code-block" id="code10">git remote add origin git@github.com:<span data-placeholder="github-username"></span>/<span data-placeholder="repo-name"></span>.git<button class="copy-btn" onclick="copyCode('code10')">Копировать</button></div>
                        </li>
                        <li><strong>Отправьте ваши файлы на GitHub</strong>:
                            <div class="code-block" id="code11">git push -u origin main<button class="copy-btn" onclick="copyCode('code11')">Копировать</button></div>
                        </li>
                    </ol>
                </div>
            </details>
        </div>
        
        <h2>Часть 3: Публикация страницы с помощью GitHub Pages</h2>
        <div class="details-content">
            <details>
                <summary><h3>Шаг 7: Активация GitHub Pages</h3></summary>
                <div class="details-content">
                     <ol>
                        <li>В вашем репозитории на GitHub перейдите во вкладку <strong>"Settings"</strong>.</li>
                        <li>В меню слева выберите <strong>"Pages"</strong>.</li>
                        <li>В разделе "Build and deployment" в качестве источника ("Source") выберите <strong>"Deploy from a branch"</strong>.</li>
                        <li>Убедитесь, что выбрана ветка <code>main</code> и папка <code>/root</code>, и нажмите <strong>"Save"</strong>.</li>
                        <li>Подождите 1-2 минуты. Страница обновится, и вверху появится плашка с адресом вашего сайта.</li>
                    </ol>
                    <div class="note">
                        <strong>Готово!</strong> Теперь по ссылке вида <code>https://<span data-placeholder="github-username"></span>.github.io/<span data-placeholder="repo-name"></span>/</code> будет доступна ваша интерактивная инструкция.
                    </div>
                </div>
            </details>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const placeholderInputs = document.querySelectorAll('.placeholder-group input');
            const applyBtn = document.getElementById('apply-btn');
            const clearBtn = document.getElementById('clear-btn');
            const exportBtn = document.getElementById('export-btn');
            const importInput = document.getElementById('import-input');
            const defaultValues = {};
            placeholderInputs.forEach(input => defaultValues[input.id] = input.value);

            const applyPlaceholders = () => {
                const placeholderMap = {};
                document.querySelectorAll('span[data-placeholder]').forEach(span => {
                    const key = span.dataset.placeholder;
                    if (!placeholderMap[key]) placeholderMap[key] = [];
                    placeholderMap[key].push(span);
                });

                placeholderInputs.forEach(input => {
                    const key = input.id;
                    if (placeholderMap[key]) {
                        placeholderMap[key].forEach(span => {
                            span.innerText = input.value;
                        });
                    }
                });
                
                // Special handling for remote URL
                const githubUsername = document.getElementById('github-username').value;
                const repoName = document.getElementById('repo-name').value;
                const remoteUrlSpan = document.querySelector('#code10 span');
                if(remoteUrlSpan) {
                   remoteUrlSpan.innerText = `git@github.com:${githubUsername}/${repoName}.git`;
                }

            };
            
            const clearPlaceholders = () => {
                placeholderInputs.forEach(input => {
                    input.value = defaultValues[input.id] || '';
                });
                applyPlaceholders();
            };

            const exportPlaceholders = () => {
                const values = {};
                placeholderInputs.forEach(input => values[input.id] = input.value);
                const a = document.createElement('a');
a.href = URL.createObjectURL(new Blob([JSON.stringify(values, null, 2)], { type: 'application/json' }));
                a.download = 'git-guide-config.json';
                a.click();
                URL.revokeObjectURL(a.href);
            };

            const importPlaceholders = (event) => {
                const file = event.target.files[0];
                if (!file) return;
                const reader = new FileReader();
                reader.onload = (e) => {
                    try {
                        const values = JSON.parse(e.target.result);
                        placeholderInputs.forEach(input => {
                            if (values[input.id] !== undefined) input.value = values[input.id];
                        });
                        applyPlaceholders();
                    } catch (error) { alert("Ошибка: Не удалось прочитать JSON файл."); }
                };
                reader.readAsText(file);
                event.target.value = '';
            };

            applyBtn.addEventListener('click', applyPlaceholders);
            clearBtn.addEventListener('click', clearPlaceholders);
            exportBtn.addEventListener('click', exportPlaceholders);
            importInput.addEventListener('change', importPlaceholders);

            window.copyCode = function(elementId) {
                const codeBlock = document.getElementById(elementId);
                const button = codeBlock.querySelector('.copy-btn');
                const nodeToCopy = codeBlock.cloneNode(true);
                nodeToCopy.querySelector('.copy-btn')?.remove();
                const codeText = nodeToCopy.innerText || nodeToCopy.textContent;
                
                navigator.clipboard.writeText(codeText.trim()).then(() => {
                    const originalText = button.innerText;
                    button.innerText = 'Скопировано!';
                    button.style.backgroundColor = '#28a745';
                    setTimeout(() => {
                        button.innerText = 'Копировать';
                        button.style.backgroundColor = '#555';
                    }, 2000);
                });
            }

            applyPlaceholders();
        });
    </script>
</body>
</html>