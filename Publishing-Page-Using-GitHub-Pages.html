<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Полная интерактивная инструкция по Git и GitHub (v12)</title>
    <style>
        :root {
            --main-blue: #2c72c7;
            --light-blue: #e6f0fb;
            --warn-yellow-bg: #fffbdd;
            --warn-yellow-border: #ffca28;
            --success-green-bg: #d4edda;
            --success-green-border: #28a745;
            --error-red-bg: #f8d7da;
            --error-red-border: #dc3545;
            --bg-color: #f7f9fc;
            --text-color: #333333;
            --code-bg: #2d2d2d;
            --code-text-color: #f8f8f2;
            --border-radius: 8px;
            --page-width: 900px;
            --header-color: #1e5a8c;
            --placeholder-bg: #fffbdd;
            --light-lilac: #e6e6fa; /* Светло-сиреневый цвет */
        }

        body {
            font-family: "Segoe UI", -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.7;
            padding: 20px;
            margin: 0;
        }

        .container {
            max-width: var(--page-width);
            margin: auto;
            background-color: #fff;
            padding: 20px 40px;
            border-radius: var(--border-radius);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }

        h1, h2, h3 {
            color: var(--header-color);
            margin-top: 0;
            border-bottom: 1px solid #e5e5e5;
            padding-bottom: 10px;
        }

        h1 {
            text-align: center;
            font-size: 2.2em;
            border-bottom: 2px solid var(--main-blue);
            margin-bottom: 30px;
        }
        h2 { font-size: 1.8em; margin-top: 40px; }
        h3 { font-size: 1.4em; margin-top: 25px; border-bottom-style: dashed; }
        h4 { margin-top: 0; color: var(--main-blue); border-bottom: 1px solid #ddd; padding-bottom: 10px; }

        details {
            border: 1px solid #e0e0e0;
            border-radius: var(--border-radius);
            margin-bottom: 15px;
            background-color: #fff;
            overflow: visible; /* Изменено для видимости всплывающих подсказок */
        }
        details summary {
            cursor: pointer;
            padding: 12px 18px;
            font-weight: bold;
            color: var(--main-blue);
            display: flex;
            align-items: center;
            list-style: none;
            background-color: #fdfdfd;
        }
        details summary::-webkit-details-marker { display: none; }
        details summary::before {
            content: '▶';
            color: var(--main-blue);
            margin-right: 12px;
            font-size: 0.9em;
            transition: transform 0.2s ease-in-out;
        }
        details[open]>summary { border-bottom: 1px solid #e0e0e0; }
        details[open]>summary::before { transform: rotate(90deg); }
        details summary>* { margin: 0; }
        .details-content { padding: 10px 20px 20px 20px; }

        .code-block {
            background-color: var(--code-bg);
            color: var(--code-text-color);
            padding: 15px 20px;
            border-radius: var(--border-radius);
            position: relative;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
            white-space: pre-wrap;
            overflow-wrap: break-word;
            padding-right: 80px; /* Добавлено для отступа кнопки копирования */
        }
        :not(pre)>code {
            background-color: #eef;
            color: #3f3f9e;
            padding: 3px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        .copy-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 5px 10px;
            font-size: 0.8em;
            background: #555;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .copy-btn:hover { background-color: #777; }

        .note {
            background-color: var(--light-blue);
            border-left: 5px solid var(--main-blue);
            padding: 15px;
            margin: 20px 0;
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
        }
        .note.warn {
            background-color: var(--warn-yellow-bg);
            border-left-color: var(--warn-yellow-border);
        }
        /* Новый стиль для выделения краткого содержания коммита */
        .commit-message {
            background-color: var(--light-lilac); /* Светло-сиреневый фон */
            padding: 2px 5px;
            border-radius: 4px;
            display: inline-block; /* Чтобы фон применялся только к тексту */
            color: var(--text-color); /* Изменен цвет текста для контраста */
        }

        ol, ul { padding-left: 25px; }
        li { margin-bottom: 15px; }
        strong { color: #333; }
        a { color: var(--main-blue); text-decoration: none; }
        a:hover { text-decoration: underline; }

        details details { border-color: #e5e7eb; }
        details details summary { background-color: #f9fafb; font-weight: normal; color: #374151; }
        details details summary::before { color: #6b7280; }
        
        .placeholder-controls { background-color: #fff; padding: 20px; }
        .placeholder-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        .placeholder-group label { display: block; font-weight: bold; margin-bottom: 5px; font-size: 0.9em; }
        .placeholder-group input[type="text"] {
            width: 100%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
            transition: color 0.3s;
        }
        .placeholder-actions {
            display: flex;
            flex-wrap: wrap; /* Разрешить перенос кнопок */
            gap: 10px;
            margin-top: 20px;
            border-top: 1px solid #ddd;
            padding-top: 20px;
            justify-content: center; /* Центрирование кнопок */
        }
        .placeholder-actions button, .placeholder-actions .import-btn-label {
            padding: 8px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            background-color: var(--main-blue); /* Синий фон для всех кнопок */
            color: white;
            flex-grow: 1; /* Кнопки будут расти, чтобы заполнить пространство */
            max-width: 200px; /* Ограничение максимальной ширины для десктопа */
            text-align: center;
            box-sizing: border-box; /* Учитывать padding и border в ширине */
        }
        /* Убираем индивидуальные цвета кнопок, так как все будут синими */
        /* #apply-btn { background-color: var(--main-blue); color: white; } */
        /* #clear-btn { background-color: #6c757d; color: white; } */
        /* #export-btn { background-color: #28a745; color: white; } */
        /* .import-btn-label { background-color: #17a2b8; color: white; display: inline-block; } */
        #import-input { display: none; }
        
        span[data-placeholder] {
            background-color: var(--placeholder-bg);
            padding: 2px 4px;
            border-radius: 3px;
            font-family: Consolas, 'Courier New', monospace;
            transition: background-color 0.3s, color 0.3s;
            color: #546E7A;
            font-weight: bold;
        }

        .placeholder-group input::placeholder { color: #a0a0a0; opacity: 1; font-style: italic; }
        .placeholder-group input::-webkit-input-placeholder { color: #a0a0a0; opacity: 1; font-style: italic; }
        .placeholder-group input:-moz-placeholder { color: #a0a0a0; opacity: 1; font-style: italic; }
        .placeholder-group input::-moz-placeholder { color: #a0a0a0; opacity: 1; font-style: italic; }
        .placeholder-group input:-ms-input-placeholder { color: #a0a0a0; opacity: 1; font-style: italic; }
        .placeholder-group input::-ms-input-placeholder { color: #a0a0a0; opacity: 1; font-style: italic; }

        .tooltip-container { 
            position: relative; 
            display: inline-block; 
            margin-left: 5px; 
            vertical-align: middle; 
            z-index: 1; /* Убедимся, что контейнер имеет z-index */
        }
        .tooltip-icon {
            font-style: normal;
            font-weight: bold;
            color: var(--main-blue);
            cursor: pointer; /* Изменено на pointer для кликабельности */
            border: 1px solid var(--main-blue);
            border-radius: 50%;
            width: 18px;
            height: 18px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8em;
            line-height: 1;
            box-sizing: border-box;
            user-select: none; /* Предотвратить выделение текста при тапе */
        }
        .tooltip-text {
            visibility: hidden;
            width: 300px;
            background-color: var(--light-lilac); /* Светло-сиреневый фон для всплывающих заметок */
            color: #333; /* Изменен цвет текста для лучшей читаемости на светлом фоне */
            border-radius: 6px;
            padding: 8px 10px;
            position: absolute;
            z-index: 9999; /* Увеличен z-index для видимости поверх других элементов */
            bottom: 125%; /* Оставляем позиционирование выше элемента */
            left: 50%;
            margin-left: -150px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.9em;
            line-height: 1.4;
            text-align: left;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            border: 1px solid #ccc; /* Добавлен легкий бордер для выделения */
            pointer-events: none; /* По умолчанию не реагирует на события мыши */
        }
        .tooltip-text.active { /* Класс для активации подсказки через JS */
            visibility: visible;
            opacity: 1;
            pointer-events: auto; /* Реагирует на события мыши при активации */
        }
        .tooltip-text::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: var(--light-lilac) transparent transparent transparent; /* Цвет стрелки соответствует фону */
        }
        /* Удаляем :hover для tooltip-text, так как будет управляться JS */
        /* .tooltip-container:hover .tooltip-text { visibility: visible; opacity: 1; } */

        /* Стиль для тегов внутри всплывающих заметок */
        .tooltip-text code {
            background-color: rgba(100, 100, 150, 0.1); /* Полупрозрачный синий фон */
            color: #000080; /* Темно-синий цвет текста */
            padding: 2px 4px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.85em;
            font-weight: bold;
        }

        #notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: var(--border-radius);
            color: var(--text-color);
            z-index: 9999;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s, transform 0.3s;
            transform: translateY(-20px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        #notification.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
        #notification.error {
            background-color: var(--error-red-bg);
            border: 1px solid var(--error-red-border);
        }
        #notification.success {
            background-color: var(--success-green-bg);
            border: 1px solid var(--success-green-border);
        }

        /* Медиа-запросы для мобильной версии */
        @media (max-width: 768px) {
            h1 {
                font-size: 1.5em; /* Уменьшаем размер заголовка */
                margin-bottom: 20px;
            }

            .container {
                padding: 10px 15px; /* Уменьшаем внутренние отступы контейнера */
            }

            .details-content {
                padding: 10px 10px 15px 10px; /* Уменьшаем отступы внутри блоков details */
            }

            details summary {
                padding: 10px 12px; /* Уменьшаем отступы в заголовках details */
            }

            .placeholder-actions {
                flex-direction: column; /* Кнопки в столбец */
                align-items: stretch; /* Растягиваем кнопки по ширине */
                gap: 8px; /* Уменьшаем расстояние между кнопками */
            }

            .placeholder-actions button, .placeholder-actions .import-btn-label {
                width: 100%; /* Полная ширина для кнопок */
                max-width: none; /* Снимаем ограничение ширины */
                padding: 10px 15px; /* Увеличиваем padding для удобства нажатия */
            }

            .copy-btn {
                opacity: 0.5; /* Прозрачность кнопки копирования */
                background-color: rgba(85, 85, 85, 0.5); /* Прозрачность фона кнопки */
                color: rgba(255, 255, 255, 0.5); /* Прозрачность текста кнопки */
                right: 5px; /* Сдвигаем кнопку немного влево */
                padding: 8px; /* Увеличиваем padding для удобства нажатия */
            }

            .code-block {
                padding-right: 60px; /* Увеличиваем отступ справа для текста кода */
            }
        }
    </style>
</head>
<body>

    <div id="notification"></div>

    <div class="container">
        <h1>Интерактивная инструкция по Git и GitHub</h1>
        
        <details open>
            <summary><h3>Панель управления данными</h3></summary>
            <div class="details-content placeholder-controls" style="border:none; padding-top: 0; background: transparent;">
                <div class="placeholder-grid">
                     <div class="placeholder-group">
                        <label for="user-name">Имя и Фамилия</label>
                        <input type="text" id="user-name" placeholder="Ваше Имя Фамилия">
                    </div>
                    <div class="placeholder-group">
                        <label for="github-username">Ваш никнейм на GitHub</label>
                        <input type="text" id="github-username" placeholder="usrnm">
                    </div>
                     <div class="placeholder-group">
                        <label for="user-email">Email</label>
                        <input type="text" id="user-email" placeholder="ваш.email@example.com">
                    </div>
                    <div class="placeholder-group">
                        <label for="repo-name">Имя репозитория</label>
                        <input type="text" id="repo-name" placeholder="my git repo">
                    </div>
                    <div class="placeholder-group">
                        <label for="page-title">Название страницы (для редиректа)</label>
                        <input type="text" id="page-title" placeholder="My Awesome Page">
                    </div>
                    <div class="placeholder-group">
                        <label for="ssh-key-path-windows">Путь для SSH-ключа (Windows)</label>
                        <input type="text" id="ssh-key-path-windows" placeholder="C:\Users\User\.ssh\">
                    </div>
                    <div class="placeholder-group">
                        <label for="ssh-key-path-mac">Путь для SSH-ключа (Mac/Linux)</label>
                        <input type="text" id="ssh-key-path-mac" placeholder="~/.ssh/">
                    </div>
                    <div class="placeholder-group">
                        <label for="ssh-key-filename">Имя файла SSH-ключа</label>
                        <input type="text" id="ssh-key-filename" placeholder="id_ed25519"> </div>
                    <div class="placeholder-group">
                        <label for="ssh-key-comment">Комментарий для SSH-ключа</label>
                        <input type="text" id="ssh-key-comment" placeholder="my-github-key">
                    </div>
                </div>
                <div class="placeholder-actions">
                    <button id="apply-btn">Применить</button>
                    <button id="clear-btn">Очистить значения</button>
                    <button id="export-btn">Экспорт в JSON</button>
                    <label for="import-input" class="import-btn-label">Импорт из JSON</label>
                    <input type="file" id="import-input" accept=".json">
                </div>
            </div>
        </details>

        <div class="note">
            <strong>Подготовка:</strong> Перед началом введите свои данные в "Панели управления" выше и нажмите "Применить".
        </div>

        <h2>Часть 1: Первоначальная настройка Git и GitHub</h2>
        <div class="details-content">
            <details>
                <summary><h3>Шаг 1: Создание аккаунта и установка Git</h3></summary>
                <div class="details-content">
                    <ul>
                        <li><strong>Создайте аккаунт на GitHub:</strong> Если у вас его еще нет, пройдите регистрацию на <a href="https://github.com" target="_blank">официальном сайте GitHub</a>.</li>
                        <li><strong>Установите Git:</strong> Скачайте и установите программу Git с <a href="https://git-scm.com/" target="_blank">официального сайта Git</a>.</li>
                    </ul>
                </div>
            </details>

            <details>
                <summary><h3>Шаг 2: Базовая конфигурация Git</h3></summary>
                <div class="details-content">
                    <div class="note warn">
                        <strong>Важно:</strong> Эту настройку достаточно сделать <strong>один раз</strong> после установки Git.
                    </div>
                    <ol>
                        <li>
                            <p style="margin-bottom: 5px; margin-top: 15px;"><strong>Проверьте текущие настройки:</strong>
                                <span class="tooltip-container">
                                    <i class="tooltip-icon">i</i>
                                    <span class="tooltip-text">Показывает текущие глобальные настройки Git. Убедитесь, что <code>user.name</code> и <code>user.email</code> настроены.</span>
                                </span>
                            </p>
                            <div class="code-block" id="code-check-list">git config --global --list<button class="copy-btn" onclick="copyCode('code-check-list')">Копировать</button></div>
                            <p>В выведенном списке должны присутствовать строки <code>user.name=...</code> и <code>user.email=...</code>.</p>
                        </li>
                        <li>
                            <strong>Если данные некорректны или отсутствуют, установите их:</strong>
                            <p style="margin-bottom: 5px; margin-top: 15px;">2.1. <em>Установить имя пользователя:</em>
                                <span class="tooltip-container">
                                    <i class="tooltip-icon">i</i>
                                    <span class="tooltip-text">Устанавливает ваше имя пользователя Git. Оно будет отображаться в истории коммитов. Важно использовать то же имя, что и на GitHub.</span>
                                </span>
                            </p>
                            <div class="code-block" id="code1">git config --global user.name "<span data-placeholder="user-name"></span>"<button class="copy-btn" onclick="copyCode('code1')">Копировать</button></div>
                            <p style="margin-bottom: 5px; margin-top: 15px;">2.2. <em>Установить email:</em>
                                <span class="tooltip-container">
                                    <i class="tooltip-icon">i</i>
                                    <span class="tooltip-text">Устанавливает ваш email для Git. Он должен совпадать с email, используемым на GitHub, для корректной привязки коммитов к вашему профилю.</span>
                                </span>
                            </p>
                            <div class="code-block" id="code2">git config --global user.email <span data-placeholder="user-email"></span><button class="copy-btn" onclick="copyCode('code2')">Копировать</button></div>
                        </li>
                    </ol>
                </div>
            </details>
            
            <details>
                <summary><h3>Шаг 3: Настройка SSH-ключей</h3></summary>
                <div class="details-content">
                    <p>Для безопасного взаимодействия вашего компьютера с GitHub используется SSH-протокол.</p>
                    <ol>
                        <li>
                            <p style="margin-bottom: 5px; margin-top: 15px;"><strong>Проверка наличия SSH-ключа:</strong>
                                <span class="tooltip-container">
                                    <i class="tooltip-icon">i</i>
                                    <span class="tooltip-text">Проверяет наличие существующих SSH-ключей в вашей системе в директории <code>~/.ssh</code>. Если ключей нет, или вы хотите создать новый, переходите к следующему шагу.</span>
                                </span>
                            </p>
                            <div class="code-block" id="code3">ls -al ~/.ssh<button class="copy-btn" onclick="copyCode('code3')">Копировать</button></div>
                        </li>
                        <li>
                            <strong>Генерация нового SSH-ключа, если его нет:</strong>
                            <p style="margin-bottom: 5px; margin-top: 15px;">2.1. <em>Генерация SSH-ключа:</em>
                                <span class="tooltip-container">
                                    <i class="tooltip-icon">i</i>
                                    <span class="tooltip-text">Генерирует новый SSH-ключ. <code>-t ed25519</code> указывает тип шифрования, <code>-C</code> добавляет комментарий (обычно ваш email), а <code>-f</code> указывает путь и имя файла. Если не указан путь, ключ будет создан в стандартной директории. Убедитесь, что плейсхолдеры заполнены верно.</span>
                                </span>
                            </p>
                            <details>
                                <summary><strong>Команда для Windows</strong></summary>
                                <div class="details-content">
                                    <div class="code-block" id="ssh-gen-win">ssh-keygen -t ed25519 -C "<span data-placeholder="ssh-key-comment"></span>" -f <span data-placeholder="ssh-key-path-windows"></span><span data-placeholder="ssh-key-filename"></span><button class="copy-btn" onclick="copyCode('ssh-gen-win')">Копировать</button></div>
                                </div>
                            </details>
                            <details>
                                <summary><strong>Команда для macOS / Linux</strong></summary>
                                <div class="details-content">
                                    <div class="code-block" id="ssh-gen-mac">ssh-keygen -t ed25519 -C "<span data-placeholder="ssh-key-comment"></span>" -f <span data-placeholder="ssh-key-path-mac"></span><span data-placeholder="ssh-key-filename"></span><button class="copy-btn" onclick="copyCode('ssh-gen-mac')">Копировать</button></div>
                                </div>
                            </details>
                        </li>
                        <li>
                            <strong>Добавление SSH-ключа в аккаунт GitHub:</strong>
                            <ol style="list-style-type: decimal; padding-left: 20px;">
                                <li>
                                    Скопируйте содержимое вашего <strong>публичного</strong> ключа (файл с расширением <code>.pub</code>).
                                    <details>
                                        <summary>Команды для копирования</summary>
                                        <div class="details-content">
                                            <p style="margin-bottom: 5px;"><strong>Для macOS/Linux:</strong>
                                                <span class="tooltip-container">
                                                    <i class="tooltip-icon">i</i>
                                                    <span class="tooltip-text">Копирует содержимое вашего публичного SSH-ключа в буфер обмена. Убедитесь, что имя файла ключа (например, <code>id_ed25519</code>) и путь к нему соответствуют тем, которые вы использовали при генерации.</span>
                                                </span>
                                            </p>
                                            <div class="code-block" id="ssh-copy-mac">cat <span data-placeholder="ssh-key-path-mac"></span><span data-placeholder="ssh-key-filename"></span>.pub | pbcopy<button class="copy-btn" onclick="copyCode('ssh-copy-mac')">Копировать</button></div>

                                            <p style="margin-bottom: 5px; margin-top: 20px;"><strong>Для Windows (в Git Bash):</strong>
                                                <span class="tooltip-container">
                                                    <i class="tooltip-icon">i</i>
                                                    <span class="tooltip-text">Копирует содержимое вашего публичного SSH-ключа в буфер обмена. Убедитесь, что имя файла ключа (например, <code>id_ed25519</code>) и путь к нему соответствуют тем, которые вы использовали при генерации.</span>
                                                </span>
                                            </p>
                                            <div class="code-block" id="ssh-copy-win">cat <span data-placeholder="ssh-key-path-windows"></span><span data-placeholder="ssh-key-filename"></span>.pub | clip<button class="copy-btn" onclick="copyCode('ssh-copy-win')">Копировать</button></div>
                                        </div>
                                    </details>
                                </li>
                                <li>На сайте GitHub перейдите в <code>Settings</code> → <code>SSH and GPG keys</code>.</li>
                                <li>Нажмите <code>New SSH key</code>, дайте ключу имя (например, "My Laptop") и вставьте скопированный ключ в поле "Key".</li>
                            </ol>
                        </li>
                    </ol>
                </div>
            </details>
        </div>

        <h2>Часть 2: Создание репозитория и загрузка файла</h2>
        <div class="details-content">
            <details>
                <summary><h3>Шаг 4: Создание нового репозитория на GitHub</h3></summary>
                <div class="details-content">
                    <ol>
                        <li>На сайте GitHub нажмите на <code>+</code> в правом верхнем углу и выберите <strong>"New repository"</strong>.</li>
                        <li>Введите имя репозитория. Оно должно совпадать с тем, что указано в панели управления: <code><span data-placeholder="repo-name"></span></code></li>
                        <li>Убедитесь, что репозиторий <strong>Public</strong> и нажмите <strong>"Create repository"</strong>.</li>
                    </ol>
                </div>
            </details>
            
            <details>
                <summary><h3>Шаг 5: Подготовка файлов и инициализация Git локально</h3></summary>
                <div class="details-content">
                    <ol>
                        <li>
                            На своем компьютере создайте папку с именем вашего репозитория: <code><span data-placeholder="repo-name"></span></code>.
                        </li>
                        <li>
                            Сохраните ваш основной HTML-файл (например, файл с содержимым вашей публикации) в эту новую папку, назвав его: <code><span data-placeholder="repo-name"></span>.html</code>.
                        </li>
                        <li>
                            Создайте новый текстовый файл в той же папке (<code><span data-placeholder="repo-name"></span></code>) и назовите его <code>index.html</code>.
                        </li>
                        <li>
                            Скопируйте и вставьте следующий HTML-код в файл <code>index.html</code>:
                            <div class="code-block" id="redirect-html-code">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;Redirecting...&lt;/title&gt;
    &lt;link rel="canonical" href="https://<span data-placeholder="github-username"></span>.github.io/<span data-placeholder="repo-name"></span>/<span data-placeholder="repo-name"></span>.html"&gt;
    &lt;meta http-equiv="refresh" content="0; url=https://<span data-placeholder="github-username"></span>.github.io/<span data-placeholder="repo-name"></span>/<span data-placeholder="repo-name"></span>.html"&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;p&gt;Вы будете перенаправлены на &lt;a href="https://<span data-placeholder="github-username"></span>.github.io/<span data-placeholder="repo-name"></span>/<span data-placeholder="repo-name"></span>.html"&gt;<span data-placeholder="page-title"></span>&lt;/a&gt;.&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;<button class="copy-btn" onclick="copyCode('redirect-html-code')">Копировать</button></div>
                            <div class="note">
                                **Обратите внимание:** Значения внутри <code>&lt;span&gt;</code> будут автоматически обновлены на основе данных из "Панели управления".
                            </div>
                        </li>
                        <li>
                            Откройте терминал (командную строку или Git Bash) и перейдите в созданную папку (<code>cd <span data-placeholder="repo-name"></span></code>).
                        </li>
                        <li>
                            <p style="margin-bottom: 5px;"><strong>Инициализируйте Git в папке</strong>, выполнив команду:
                                <span class="tooltip-container">
                                    <i class="tooltip-icon">i</i>
                                    <span class="tooltip-text">Инициализирует новый локальный Git репозиторий в текущей директории. Эта команда создает скрытую папку <code>.git</code>, где Git хранит все данные о вашем проекте.</span>
                                </span>
                            </p>
                            <div class="code-block" id="code6">git init<button class="copy-btn" onclick="copyCode('code6')">Копировать</button></div>
                        </li>
                    </ol>
                </div>
            </details>

            <details>
                <summary><h3>Шаг 6: Первый коммит и отправка файлов на GitHub</h3></summary>
                <div class="details-content">
                    <ol>
                        <li>
                            <p style="margin-bottom: 5px;"><strong>Добавьте все файлы для отслеживания:</strong>
                                <span class="tooltip-container">
                                    <i class="tooltip-icon">i</i>
                                    <span class="tooltip-text">Добавляет все новые и измененные файлы в 'область подготовленных изменений' (staging area). Это означает, что Git начнет отслеживать изменения в этих файлах и подготовит их для следующего коммита.</span>
                                </span>
                            </p>
                            <div class="code-block" id="code7">git add .<button class="copy-btn" onclick="copyCode('code7')">Копировать</button></div>
                        </li>
                        <li>
                            <p style="margin-bottom: 5px;"><strong>Зафиксируйте изменения:</strong>
                                <span class="tooltip-container">
                                    <i class="tooltip-icon">i</i>
                                    <span class="tooltip-text">Создает 'снимок' текущих изменений в отслеживаемых файлах и сохраняет его в истории репозитория. <code>-m</code> позволяет добавить краткое сообщение к коммиту, описывающее внесенные изменения.</span>
                                </span>
                            </p>
                            <div class="code-block" id="code8">git commit -m "<span class="commit-message">Обновление файлов проекта</span>"<button class="copy-btn" onclick="copyCode('code8')">Копировать</button></div>
                        </li>
                        <li>
                            <p style="margin-bottom: 5px;"><strong>Переименуйте основную ветку в `main`:</strong>
                                <span class="tooltip-container">
                                    <i class="tooltip-icon">i</i>
                                    <span class="tooltip-text">Переименовывает текущую ветку в <code>main</code>. В Git 'main' (или 'master') является стандартным именем для основной ветки проекта.</span>
                                </span>
                            </p>
                            <div class="code-block" id="code9">git branch -M main<button class="copy-btn" onclick="copyCode('code9')">Копировать</button></div>
                        </li>
                        <li>
                            <p style="margin-bottom: 5px;"><strong>Привяжите ваш локальный репозиторий к удаленному:</strong>
                                <span class="tooltip-container">
                                    <i class="tooltip-icon">i</i>
                                    <span class="tooltip-text">Связывает ваш локальный репозиторий с удаленным репозиторием на GitHub. <code>'origin'</code> - это общепринятое имя для удаленного репозитория. Убедитесь, что ваш никнейм на GitHub и имя репозитория указаны корректно.</span>
                                </span>
                            </p>
                            <div class="code-block" id="code10">git remote add origin git@github.com:<span data-placeholder="github-username"></span>/<span data-placeholder="repo-name"></span>.git<button class="copy-btn" onclick="copyCode('code10')">Копировать</button></div>
                        </li>
                        <li>
                            <p style="margin-bottom: 5px;"><strong>Отправьте ваши файлы на GitHub</strong>:
                                <span class="tooltip-container">
                                    <i class="tooltip-icon">i</i>
                                    <span class="tooltip-text">Отправляет (загружает) локальные коммиты из ветки <code>main</code> в удаленный репозиторий на GitHub. <code>-u</code> (или <code>--set-upstream</code>) устанавливает отслеживание для текущей ветки, так что в будущем вы сможете использовать просто <code>git push</code>.</span>
                                </span>
                            </p>
                            <div class="code-block" id="code11">git push -u origin main<button class="copy-btn" onclick="copyCode('code11')">Копировать</button></div>
                        </li>
                    </ol>
                </div>
            </details>
        </div>
        
        <h2>Часть 3: Публикация страницы с помощью GitHub Pages</h2>
        <div class="details-content">
            <details>
                <summary><h3>Шаг 7: Активация GitHub Pages</h3></summary>
                <div class="details-content">
                    <ol>
                        <li>В вашем репозитории на GitHub перейдите во вкладку <strong>"Settings"</strong>.</li>
                        <li>В меню слева выберите <strong>"Pages"</strong>.</li>
                        <li>В разделе "Build and deployment" в качестве источника ("Source") выберите <strong>"Deploy from a branch"</strong>.</li>
                        <li>Убедитесь, что выбрана ветка <code>main</code> и папка <code>/root</code>, и нажмите <strong>"Save"</strong>.</li>
                        <li>Подождите 1-2 минуты. Страница обновится, и вверху появится плашка с адресом вашего сайта.</li>
                    </ol>
                    <div class="note">
                        <strong>Готово!</strong> Теперь по ссылке вида <code>https://<span data-placeholder="github-username"></span>.github.io/<span data-placeholder="repo-name"></span>/</code> будет доступна ваша интерактивная инструкция через перенаправление с <code>index.html</code>. Файл с основным контентом будет доступен по адресу <code>https://<span data-placeholder="github-username"></span>.github.io/<span data-placeholder="repo-name"></span>/<span data-placeholder="repo-name"></span>.html</code>.
                    </div>
                </div>
            </details>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const placeholderInputs = document.querySelectorAll('.placeholder-group input');
            const applyBtn = document.getElementById('apply-btn');
            const clearBtn = document.getElementById('clear-btn');
            const exportBtn = document.getElementById('export-btn');
            const importInput = document.getElementById('import-input');
            const notificationEl = document.getElementById('notification');
            const tooltipIcons = document.querySelectorAll('.tooltip-icon');
            let activeTooltip = null;

            const showNotification = (message, type = 'error') => {
                notificationEl.textContent = message;
                notificationEl.className = ''; // Reset classes
                notificationEl.classList.add(type, 'show');
                setTimeout(() => {
                    notificationEl.classList.remove('show');
                }, 3000);
            };

            const applyPlaceholders = () => {
                const placeholderMap = {};
                document.querySelectorAll('span[data-placeholder]').forEach(span => {
                    const key = span.dataset.placeholder;
                    if (!placeholderMap[key]) placeholderMap[key] = [];
                    placeholderMap[key].push(span);
                });

                placeholderInputs.forEach(input => {
                    const key = input.id;
                    const value = input.value || input.placeholder; // Use placeholder as fallback
                    if (placeholderMap[key]) {
                        placeholderMap[key].forEach(span => {
                            span.innerText = value;
                        });
                    }
                });
            };
            
            const clearPlaceholders = () => {
                placeholderInputs.forEach(input => {
                    input.value = '';
                });
                applyPlaceholders();
            };

            const exportPlaceholders = () => {
                const values = {};
                placeholderInputs.forEach(input => values[input.id] = input.value);
                const a = document.createElement('a');
                a.href = URL.createObjectURL(new Blob([JSON.stringify(values, null, 2)], { type: 'application/json' }));
                a.download = 'git-guide-config.json';
                a.click();
                URL.revokeObjectURL(a.href);
            };

            const importPlaceholders = (event) => {
                const file = event.target.files[0];
                if (!file) return;
                const reader = new FileReader();
                reader.onload = (e) => {
                    try {
                        const values = JSON.parse(e.target.result);
                        placeholderInputs.forEach(input => {
                            if (values[input.id] !== undefined) input.value = values[input.id];
                        });
                        applyPlaceholders();
                    } catch (error) { 
                        showNotification("Ошибка: Не удалось прочитать JSON файл.", "error");
                    }
                };
                reader.readAsText(file);
                event.target.value = '';
            };

            applyBtn.addEventListener('click', applyPlaceholders);
            clearBtn.addEventListener('click', clearPlaceholders);
            exportBtn.addEventListener('click', exportPlaceholders);
            importInput.addEventListener('change', importPlaceholders);

            window.copyCode = function(elementId) {
                const codeBlock = document.getElementById(elementId);
                const button = codeBlock.querySelector('.copy-btn');
                
                // Clone the node to avoid modifying the original
                const nodeToCopy = codeBlock.cloneNode(true);
                
                // Remove the button from the cloned node before getting the text
                const copyButtonInClonedNode = nodeToCopy.querySelector('.copy-btn');
                if (copyButtonInClonedNode) {
                    copyButtonInClonedNode.remove();
                }
                
                // The browser automatically decodes HTML entities when using innerText or textContent
                // This handles the escaped HTML in the 'redirect-html-code' block correctly
                const codeText = nodeToCopy.innerText || nodeToCopy.textContent;
                
                navigator.clipboard.writeText(codeText.trim()).then(() => {
                    button.innerText = 'Скопировано!';
                    button.style.backgroundColor = '#28a745';
                    setTimeout(() => {
                        button.innerText = 'Копировать';
                        button.style.backgroundColor = '#555';
                        // Reset opacity for mobile if applicable
                        if (window.innerWidth <= 768) {
                            button.style.opacity = '0.5';
                            button.style.backgroundColor = 'rgba(85, 85, 85, 0.5)';
                            button.style.color = 'rgba(255, 255, 255, 0.5)';
                        }
                    }, 2000);
                });
            }

            // --- Tooltip functionality for mobile (click to toggle) ---
            tooltipIcons.forEach(icon => {
                icon.addEventListener('click', (event) => {
                    event.stopPropagation(); // Предотвратить закрытие, если клик был внутри другого тултипа
                    const tooltipText = icon.nextElementSibling;

                    if (activeTooltip && activeTooltip !== tooltipText) {
                        activeTooltip.classList.remove('active'); // Скрыть предыдущий активный тултип
                    }

                    tooltipText.classList.toggle('active');
                    activeTooltip = tooltipText.classList.contains('active') ? tooltipText : null;
                });

                // Для десктопа: показывать/скрывать по наведению
                icon.parentNode.addEventListener('mouseenter', () => {
                    if (window.innerWidth > 768) {
                        icon.nextElementSibling.classList.add('active');
                    }
                });
                icon.parentNode.addEventListener('mouseleave', () => {
                    if (window.innerWidth > 768) {
                        icon.nextElementSibling.classList.remove('active');
                    }
                });
            });

            // Скрыть активный тултип при клике вне его
            document.addEventListener('click', (event) => {
                if (activeTooltip && !activeTooltip.parentNode.contains(event.target)) {
                    activeTooltip.classList.remove('active');
                    activeTooltip = null;
                }
            });

            // Initial application of placeholders on page load
            applyPlaceholders(); 
        });
    </script>
</body>
</html>

